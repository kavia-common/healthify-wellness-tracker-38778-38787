{"is_source_file": true, "format": "JavaScript", "description": "This file defines an API client module that provides helper functions for making HTTP requests (GET, POST, PUT, DELETE), error handling, URL building, and performing healthchecks. It imports configuration utils and logging utilities, and exports a set of functions and a default API client object.", "external_files": ["../utils/env", "../utils/log"], "external_methods": ["getApiBase", "getBackendUrl", "getWsUrl", "getHealthcheckPath", "warn", "error", "debug", "logError"], "published": ["ApiError", "getJson", "postJson", "putJson", "deleteJson", "healthcheck", "apiClient"], "classes": [{"name": "ApiError", "description": "A custom Error class for normalized API errors, encapsulating HTTP response details."}], "methods": [{"name": "parseErrorResponse(res)", "description": "Parses an error response from fetch, generating an ApiError with details.", "scope": "", "scopeKind": ""}, {"name": "parseOkResponse(res)", "description": "Parses a successful fetch response, returning JSON or text based on content type.", "scope": "", "scopeKind": ""}, {"name": "request(method, path, { params, body, headers, baseUrl } = {})", "description": "Low-level helper function to perform an HTTP request with method, URL, and options, handling errors and response parsing.", "scope": "", "scopeKind": ""}, {"name": "getJson(path, options = {})", "description": "Performs a GET request and parses a JSON response.", "scope": "", "scopeKind": ""}, {"name": "postJson(path, data, options = {})", "description": "Performs a POST request with a JSON body and parses JSON response.", "scope": "", "scopeKind": ""}, {"name": "putJson(path, data, options = {})", "description": "Performs a PUT request with a JSON body and parses JSON response.", "scope": "", "scopeKind": ""}, {"name": "deleteJson(path, options = {})", "description": "Performs a DELETE request and parses JSON response.", "scope": "", "scopeKind": ""}, {"name": "healthcheck()", "description": "Performs a lightweight server healthcheck, returning a normalized result indicating server health.", "scope": "", "scopeKind": ""}, {"name": "constructor({ message, status = 0, code = 'API_ERROR', url = '', details = null })", "scope": "ApiError", "scopeKind": "class", "description": "unavailable"}], "calls": ["getApiBase", "getBackendUrl", "getWsUrl", "getHealthcheckPath", "fetch", "parseOkResponse", "parseErrorResponse", "logError"], "search-terms": ["apiClient", "healthcheck", "URLBuilder", "HTTP helper", "API error class", "fetch wrappers", "json helpers"], "state": 2, "file_id": 29, "knowledge_revision": 68, "git_revision": "", "ctags": [{"_type": "tag", "name": "ApiError", "path": "/home/kavia/workspace/code-generation/healthify-wellness-tracker-38778-38787/healthify_frontend/src/services/apiClient.js", "pattern": "/^export class ApiError extends Error {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "apiClient", "path": "/home/kavia/workspace/code-generation/healthify-wellness-tracker-38778-38787/healthify_frontend/src/services/apiClient.js", "pattern": "/^const apiClient = {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "b", "path": "/home/kavia/workspace/code-generation/healthify-wellness-tracker-38778-38787/healthify_frontend/src/services/apiClient.js", "pattern": "/^  const b = trimTrailingSlash(baseUrl || '');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "buildUrl", "path": "/home/kavia/workspace/code-generation/healthify-wellness-tracker-38778-38787/healthify_frontend/src/services/apiClient.js", "pattern": "/^const buildUrl = (baseUrl, path, params) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "constructor", "path": "/home/kavia/workspace/code-generation/healthify-wellness-tracker-38778-38787/healthify_frontend/src/services/apiClient.js", "pattern": "/^  constructor({ message, status = 0, code = 'API_ERROR', url = '', details = null }) {$/", "language": "JavaScript", "kind": "method", "signature": "({ message, status = 0, code = 'API_ERROR', url = '', details = null })", "scope": "ApiError", "scopeKind": "class"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/healthify-wellness-tracker-38778-38787/healthify_frontend/src/services/apiClient.js", "pattern": "/^      data = { message: txt };$/", "language": "JavaScript", "kind": "class", "scope": "parseErrorResponse", "scopeKind": "class"}, {"_type": "tag", "name": "deleteJson", "path": "/home/kavia/workspace/code-generation/healthify-wellness-tracker-38778-38787/healthify_frontend/src/services/apiClient.js", "pattern": "/^export async function deleteJson(path, options = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(path, options = {})"}, {"_type": "tag", "name": "ensureLeadingSlash", "path": "/home/kavia/workspace/code-generation/healthify-wellness-tracker-38778-38787/healthify_frontend/src/services/apiClient.js", "pattern": "/^const ensureLeadingSlash = (p) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getJson", "path": "/home/kavia/workspace/code-generation/healthify-wellness-tracker-38778-38787/healthify_frontend/src/services/apiClient.js", "pattern": "/^export async function getJson(path, options = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(path, options = {})"}, {"_type": "tag", "name": "healthcheck", "path": "/home/kavia/workspace/code-generation/healthify-wellness-tracker-38778-38787/healthify_frontend/src/services/apiClient.js", "pattern": "/^export async function healthcheck() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "isNil", "path": "/home/kavia/workspace/code-generation/healthify-wellness-tracker-38778-38787/healthify_frontend/src/services/apiClient.js", "pattern": "/^const isNil = (v) => v === undefined || v === null;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "message", "path": "/home/kavia/workspace/code-generation/healthify-wellness-tracker-38778-38787/healthify_frontend/src/services/apiClient.js", "pattern": "/^      data = { message: txt };$/", "language": "JavaScript", "kind": "property", "scope": "parseErrorResponse.data", "scopeKind": "class"}, {"_type": "tag", "name": "method", "path": "/home/kavia/workspace/code-generation/healthify-wellness-tracker-38778-38787/healthify_frontend/src/services/apiClient.js", "pattern": "/^    method,$/", "language": "JavaScript", "kind": "field", "scope": "request.fetchOptions", "scopeKind": "class"}, {"_type": "tag", "name": "p", "path": "/home/kavia/workspace/code-generation/healthify-wellness-tracker-38778-38787/healthify_frontend/src/services/apiClient.js", "pattern": "/^  const p = ensureLeadingSlash(path || '');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "parseErrorResponse", "path": "/home/kavia/workspace/code-generation/healthify-wellness-tracker-38778-38787/healthify_frontend/src/services/apiClient.js", "pattern": "/^async function parseErrorResponse(res) {$/", "language": "JavaScript", "kind": "function", "signature": "(res)"}, {"_type": "tag", "name": "parseOkResponse", "path": "/home/kavia/workspace/code-generation/healthify-wellness-tracker-38778-38787/healthify_frontend/src/services/apiClient.js", "pattern": "/^async function parseOkResponse(res) {$/", "language": "JavaScript", "kind": "function", "signature": "(res)"}, {"_type": "tag", "name": "postJson", "path": "/home/kavia/workspace/code-generation/healthify-wellness-tracker-38778-38787/healthify_frontend/src/services/apiClient.js", "pattern": "/^export async function postJson(path, data, options = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(path, data, options = {})"}, {"_type": "tag", "name": "putJson", "path": "/home/kavia/workspace/code-generation/healthify-wellness-tracker-38778-38787/healthify_frontend/src/services/apiClient.js", "pattern": "/^export async function putJson(path, data, options = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(path, data, options = {})"}, {"_type": "tag", "name": "qs", "path": "/home/kavia/workspace/code-generation/healthify-wellness-tracker-38778-38787/healthify_frontend/src/services/apiClient.js", "pattern": "/^  const qs = toQueryString(params);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "qs", "path": "/home/kavia/workspace/code-generation/healthify-wellness-tracker-38778-38787/healthify_frontend/src/services/apiClient.js", "pattern": "/^  const qs = usp.toString();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "request", "path": "/home/kavia/workspace/code-generation/healthify-wellness-tracker-38778-38787/healthify_frontend/src/services/apiClient.js", "pattern": "/^async function request(method, path, { params, body, headers, baseUrl } = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(method, path, { params, body, headers, baseUrl } = {})"}, {"_type": "tag", "name": "toQueryString", "path": "/home/kavia/workspace/code-generation/healthify-wellness-tracker-38778-38787/healthify_frontend/src/services/apiClient.js", "pattern": "/^const toQueryString = (params) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "trimTrailingSlash", "path": "/home/kavia/workspace/code-generation/healthify-wellness-tracker-38778-38787/healthify_frontend/src/services/apiClient.js", "pattern": "/^const trimTrailingSlash = (v) => (typeof v === 'string' ? v.replace(\\/\\\\\\/+$\\/, '') : v);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "usp", "path": "/home/kavia/workspace/code-generation/healthify-wellness-tracker-38778-38787/healthify_frontend/src/services/apiClient.js", "pattern": "/^  const usp = new URLSearchParams();$/", "language": "JavaScript", "kind": "constant"}], "hash": "cf53f67f4fdfe911891ef1b73b8bf23e", "format-version": 4, "code-base-name": "healthify_frontend", "filename": "healthify_frontend/src/services/apiClient.js", "fields": [{"name": "data = { message: txt };", "scope": "parseErrorResponse.data", "scopeKind": "class", "description": "unavailable"}, {"name": "method,", "scope": "request.fetchOptions", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"68": ""}]}